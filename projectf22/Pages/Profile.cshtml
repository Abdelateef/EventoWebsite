@page
@model projectf22.Pages.ProfileModel
@{
    ViewData["Title"] = "Profile";
}

<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>@ViewData["Title"]</title>
    <link rel="stylesheet" type="text/css" href="~/css/site.css" />
    <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.5.1.min.js"></script>
    <style>
        .edit-form {
            display: none;
        }

        .white-text {
            color: white;
        }
    </style>
    <script>
        $(document).ready(function () {
            $("#editProfileButton").click(function () {
                $(".edit-form").toggle();
            });
        });
    </script>
</head>
<body>
    <div class="page-heading-shows-events">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <h2 class="white-text">@Model.UserName</h2>
                    <div class="container">
                        <img src="@Model.ProfileImageUrl" class="w-auto" />
                    </div>
                    <div class="container">
                        <h3 class="white-text">Bio:</h3>
                        <p class="white-text">@Model.Bio</p>
                    </div>

                    <button id="editProfileButton" class="btn btn-primary">Edit Profile</button>
                    <div class="edit-form">
                        <form method="post" enctype="multipart/form-data">
                            <div class="form-group">
                                <label for="ProfilePhoto">Upload Profile Photo:</label>
                                <input type="file" asp-for="ProfilePhoto" class="form-control" />
                            </div>
                            <div class="form-group">
                                <label for="UserName">Username:</label>
                                <input type="text" asp-for="UserName" class="form-control" />
                            </div>
                            <div class="form-group">
                                <label for="UserEmail">Email:</label>
                                <input type="email" asp-for="UserEmail" class="form-control" />
                            </div>
                            <div class="form-group">
                                <label for="UserPassword">Password:</label>
                                <input type="password" asp-for="UserPassword" class="form-control" />
                            </div>
                            <div class="form-group">
                                <label for="Bio">Bio:</label>
                                <textarea asp-for="Bio" class="form-control"></textarea>
                            </div>
                            <button type="submit" class="btn btn-primary">Update Profile</button>
                        </form>
                    </div>

                </div>
            </div>
        </div>
    </div>
    <br />

    <div class="container row-cols-6">
        <table class="table table-bordered table-hover">
            <thead>
                <tr>
                    <th>Ticket ID</th>
                    <th>Price Per Ticket</th>
                    <th>Ticket Type</th>
                    <th>Event ID</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model.UserTickets)
                {
                    <tr>
                        <td>@item.TicketID</td>
                        <td>@item.TicketPrice.ToString("C")</td>
                        <td>@item.TicketType</td>
                        <td>@item.EventID</td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</body>
</html>
